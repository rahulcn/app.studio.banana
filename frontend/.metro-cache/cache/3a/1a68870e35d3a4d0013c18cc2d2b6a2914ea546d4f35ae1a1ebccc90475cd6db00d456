{"dependencies":[{"name":"./Sensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":673},"end":{"line":6,"column":30,"index":703}}],"key":"jCsiDNYCRGC49K/Yw6RxNrvQaN8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SensorContainer\", {\n    enumerable: true,\n    get: function () {\n      return SensorContainer;\n    }\n  });\n  var _Sensor = require(_dependencyMap[0], \"./Sensor\");\n  var Sensor = _interopDefault(_Sensor);\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  class SensorContainer {\n    constructor() {\n      _defineProperty(this, \"nativeSensors\", new Map());\n    }\n    getSensorId(sensorType, config) {\n      return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n    }\n    initializeSensor(sensorType, config) {\n      const sensorId = this.getSensorId(sensorType, config);\n      if (!this.nativeSensors.has(sensorId)) {\n        const newSensor = new Sensor.default(sensorType, config);\n        this.nativeSensors.set(sensorId, newSensor);\n      }\n      const sensor = this.nativeSensors.get(sensorId);\n      return sensor.getSharedValue();\n    }\n    registerSensor(sensorType, config, handler) {\n      const sensorId = this.getSensorId(sensorType, config);\n      if (!this.nativeSensors.has(sensorId)) {\n        return -1;\n      }\n      const sensor = this.nativeSensors.get(sensorId);\n      if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n        sensor.listenersNumber++;\n        return sensorId;\n      }\n      return -1;\n    }\n    unregisterSensor(sensorId) {\n      if (this.nativeSensors.has(sensorId)) {\n        const sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isRunning()) {\n          sensor.listenersNumber--;\n          if (sensor.listenersNumber === 0) {\n            sensor.unregister();\n          }\n        }\n      }\n    }\n  }\n});","lineCount":88,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,7,0,"Object"],[12,8,7,0],[12,9,7,0,"defineProperty"],[12,23,7,0],[12,24,7,0,"exports"],[12,31,7,0],[13,4,7,0,"enumerable"],[13,14,7,0],[14,4,7,0,"get"],[14,7,7,0],[14,18,7,0,"get"],[14,19,7,0],[15,6,7,0],[15,13,7,0,"SensorContainer"],[15,28,7,0],[16,4,7,0],[17,2,7,0],[18,2,6,0],[18,6,6,0,"_Sensor"],[18,13,6,0],[18,16,6,0,"require"],[18,23,6,0],[18,24,6,0,"_dependencyMap"],[18,38,6,0],[19,2,6,0],[19,6,6,0,"Sensor"],[19,12,6,0],[19,15,6,0,"_interopDefault"],[19,30,6,0],[19,31,6,0,"_Sensor"],[19,38,6,0],[20,2,3,0],[20,11,3,9,"_defineProperty"],[20,26,3,24,"_defineProperty"],[20,27,3,25,"obj"],[20,30,3,28],[20,32,3,30,"key"],[20,35,3,33],[20,37,3,35,"value"],[20,42,3,40],[20,44,3,42],[21,4,3,44,"key"],[21,7,3,47],[21,10,3,50,"_toPropertyKey"],[21,24,3,64],[21,25,3,65,"key"],[21,28,3,68],[21,29,3,69],[22,4,3,71],[22,8,3,75,"key"],[22,11,3,78],[22,15,3,82,"obj"],[22,18,3,85],[22,20,3,87],[23,6,3,89,"Object"],[23,12,3,95],[23,13,3,96,"defineProperty"],[23,27,3,110],[23,28,3,111,"obj"],[23,31,3,114],[23,33,3,116,"key"],[23,36,3,119],[23,38,3,121],[24,8,3,123,"value"],[24,13,3,128],[24,15,3,130,"value"],[24,20,3,135],[25,8,3,137,"enumerable"],[25,18,3,147],[25,20,3,149],[25,24,3,153],[26,8,3,155,"configurable"],[26,20,3,167],[26,22,3,169],[26,26,3,173],[27,8,3,175,"writable"],[27,16,3,183],[27,18,3,185],[28,6,3,190],[28,7,3,191],[28,8,3,192],[29,4,3,194],[29,5,3,195],[29,11,3,201],[30,6,3,203,"obj"],[30,9,3,206],[30,10,3,207,"key"],[30,13,3,210],[30,14,3,211],[30,17,3,214,"value"],[30,22,3,219],[31,4,3,221],[32,4,3,223],[32,11,3,230,"obj"],[32,14,3,233],[33,2,3,235],[34,2,4,0],[34,11,4,9,"_toPropertyKey"],[34,25,4,23,"_toPropertyKey"],[34,26,4,24,"t"],[34,27,4,25],[34,29,4,27],[35,4,4,29],[35,8,4,33,"i"],[35,9,4,34],[35,12,4,37,"_toPrimitive"],[35,24,4,49],[35,25,4,50,"t"],[35,26,4,51],[35,28,4,53],[35,36,4,61],[35,37,4,62],[36,4,4,64],[36,11,4,71],[36,19,4,79],[36,23,4,83],[36,30,4,90,"i"],[36,31,4,91],[36,34,4,94,"i"],[36,35,4,95],[36,38,4,98,"i"],[36,39,4,99],[36,42,4,102],[36,44,4,104],[37,2,4,106],[38,2,5,0],[38,11,5,9,"_toPrimitive"],[38,23,5,21,"_toPrimitive"],[38,24,5,22,"t"],[38,25,5,23],[38,27,5,25,"r"],[38,28,5,26],[38,30,5,28],[39,4,5,30],[39,8,5,34],[39,16,5,42],[39,20,5,46],[39,27,5,53,"t"],[39,28,5,54],[39,32,5,58],[39,33,5,59,"t"],[39,34,5,60],[39,36,5,62],[39,43,5,69,"t"],[39,44,5,70],[40,4,5,72],[40,8,5,76,"e"],[40,9,5,77],[40,12,5,80,"t"],[40,13,5,81],[40,14,5,82,"Symbol"],[40,20,5,88],[40,21,5,89,"toPrimitive"],[40,32,5,100],[40,33,5,101],[41,4,5,103],[41,8,5,107],[41,13,5,112],[41,14,5,113],[41,19,5,118,"e"],[41,20,5,119],[41,22,5,121],[42,6,5,123],[42,10,5,127,"i"],[42,11,5,128],[42,14,5,131,"e"],[42,15,5,132],[42,16,5,133,"call"],[42,20,5,137],[42,21,5,138,"t"],[42,22,5,139],[42,24,5,141,"r"],[42,25,5,142],[42,29,5,146],[42,38,5,155],[42,39,5,156],[43,6,5,158],[43,10,5,162],[43,18,5,170],[43,22,5,174],[43,29,5,181,"i"],[43,30,5,182],[43,32,5,184],[43,39,5,191,"i"],[43,40,5,192],[44,6,5,194],[44,12,5,200],[44,16,5,204,"TypeError"],[44,25,5,213],[44,26,5,214],[44,72,5,260],[44,73,5,261],[45,4,5,263],[46,4,5,265],[46,11,5,272],[46,12,5,273],[46,20,5,281],[46,25,5,286,"r"],[46,26,5,287],[46,29,5,290,"String"],[46,35,5,296],[46,38,5,299,"Number"],[46,44,5,305],[46,46,5,307,"t"],[46,47,5,308],[46,48,5,309],[47,2,5,311],[48,2,7,7],[48,8,7,13,"SensorContainer"],[48,23,7,28],[48,24,7,29],[49,4,8,2,"constructor"],[49,15,8,13,"constructor"],[49,16,8,13],[49,18,8,16],[50,6,9,4,"_defineProperty"],[50,21,9,19],[50,22,9,20],[50,26,9,24],[50,28,9,26],[50,43,9,41],[50,45,9,43],[50,49,9,47,"Map"],[50,52,9,50],[50,53,9,51],[50,54,9,52],[50,55,9,53],[51,4,10,2],[52,4,11,2,"getSensorId"],[52,15,11,13,"getSensorId"],[52,16,11,14,"sensorType"],[52,26,11,24],[52,28,11,26,"config"],[52,34,11,32],[52,36,11,34],[53,6,12,4],[53,13,12,11,"sensorType"],[53,23,12,21],[53,26,12,24],[53,29,12,27],[53,32,12,30,"config"],[53,38,12,36],[53,39,12,37,"iosReferenceFrame"],[53,56,12,54],[53,59,12,57],[53,61,12,59],[53,64,12,62,"Number"],[53,70,12,68],[53,71,12,69,"config"],[53,77,12,75],[53,78,12,76,"adjustToInterfaceOrientation"],[53,106,12,104],[53,107,12,105],[54,4,13,2],[55,4,14,2,"initializeSensor"],[55,20,14,18,"initializeSensor"],[55,21,14,19,"sensorType"],[55,31,14,29],[55,33,14,31,"config"],[55,39,14,37],[55,41,14,39],[56,6,15,4],[56,12,15,10,"sensorId"],[56,20,15,18],[56,23,15,21],[56,27,15,25],[56,28,15,26,"getSensorId"],[56,39,15,37],[56,40,15,38,"sensorType"],[56,50,15,48],[56,52,15,50,"config"],[56,58,15,56],[56,59,15,57],[57,6,16,4],[57,10,16,8],[57,11,16,9],[57,15,16,13],[57,16,16,14,"nativeSensors"],[57,29,16,27],[57,30,16,28,"has"],[57,33,16,31],[57,34,16,32,"sensorId"],[57,42,16,40],[57,43,16,41],[57,45,16,43],[58,8,17,6],[58,14,17,12,"newSensor"],[58,23,17,21],[58,26,17,24],[58,30,17,28,"Sensor"],[58,36,17,34],[58,37,17,34,"default"],[58,44,17,34],[58,45,17,35,"sensorType"],[58,55,17,45],[58,57,17,47,"config"],[58,63,17,53],[58,64,17,54],[59,8,18,6],[59,12,18,10],[59,13,18,11,"nativeSensors"],[59,26,18,24],[59,27,18,25,"set"],[59,30,18,28],[59,31,18,29,"sensorId"],[59,39,18,37],[59,41,18,39,"newSensor"],[59,50,18,48],[59,51,18,49],[60,6,19,4],[61,6,20,4],[61,12,20,10,"sensor"],[61,18,20,16],[61,21,20,19],[61,25,20,23],[61,26,20,24,"nativeSensors"],[61,39,20,37],[61,40,20,38,"get"],[61,43,20,41],[61,44,20,42,"sensorId"],[61,52,20,50],[61,53,20,51],[62,6,21,4],[62,13,21,11,"sensor"],[62,19,21,17],[62,20,21,18,"getSharedValue"],[62,34,21,32],[62,35,21,33],[62,36,21,34],[63,4,22,2],[64,4,23,2,"registerSensor"],[64,18,23,16,"registerSensor"],[64,19,23,17,"sensorType"],[64,29,23,27],[64,31,23,29,"config"],[64,37,23,35],[64,39,23,37,"handler"],[64,46,23,44],[64,48,23,46],[65,6,24,4],[65,12,24,10,"sensorId"],[65,20,24,18],[65,23,24,21],[65,27,24,25],[65,28,24,26,"getSensorId"],[65,39,24,37],[65,40,24,38,"sensorType"],[65,50,24,48],[65,52,24,50,"config"],[65,58,24,56],[65,59,24,57],[66,6,25,4],[66,10,25,8],[66,11,25,9],[66,15,25,13],[66,16,25,14,"nativeSensors"],[66,29,25,27],[66,30,25,28,"has"],[66,33,25,31],[66,34,25,32,"sensorId"],[66,42,25,40],[66,43,25,41],[66,45,25,43],[67,8,26,6],[67,15,26,13],[67,16,26,14],[67,17,26,15],[68,6,27,4],[69,6,28,4],[69,12,28,10,"sensor"],[69,18,28,16],[69,21,28,19],[69,25,28,23],[69,26,28,24,"nativeSensors"],[69,39,28,37],[69,40,28,38,"get"],[69,43,28,41],[69,44,28,42,"sensorId"],[69,52,28,50],[69,53,28,51],[70,6,29,4],[70,10,29,8,"sensor"],[70,16,29,14],[70,20,29,18,"sensor"],[70,26,29,24],[70,27,29,25,"isAvailable"],[70,38,29,36],[70,39,29,37],[70,40,29,38],[70,45,29,43,"sensor"],[70,51,29,49],[70,52,29,50,"isRunning"],[70,61,29,59],[70,62,29,60],[70,63,29,61],[70,67,29,65,"sensor"],[70,73,29,71],[70,74,29,72,"register"],[70,82,29,80],[70,83,29,81,"handler"],[70,90,29,88],[70,91,29,89],[70,92,29,90],[70,94,29,92],[71,8,30,6,"sensor"],[71,14,30,12],[71,15,30,13,"listenersNumber"],[71,30,30,28],[71,32,30,30],[72,8,31,6],[72,15,31,13,"sensorId"],[72,23,31,21],[73,6,32,4],[74,6,33,4],[74,13,33,11],[74,14,33,12],[74,15,33,13],[75,4,34,2],[76,4,35,2,"unregisterSensor"],[76,20,35,18,"unregisterSensor"],[76,21,35,19,"sensorId"],[76,29,35,27],[76,31,35,29],[77,6,36,4],[77,10,36,8],[77,14,36,12],[77,15,36,13,"nativeSensors"],[77,28,36,26],[77,29,36,27,"has"],[77,32,36,30],[77,33,36,31,"sensorId"],[77,41,36,39],[77,42,36,40],[77,44,36,42],[78,8,37,6],[78,14,37,12,"sensor"],[78,20,37,18],[78,23,37,21],[78,27,37,25],[78,28,37,26,"nativeSensors"],[78,41,37,39],[78,42,37,40,"get"],[78,45,37,43],[78,46,37,44,"sensorId"],[78,54,37,52],[78,55,37,53],[79,8,38,6],[79,12,38,10,"sensor"],[79,18,38,16],[79,22,38,20,"sensor"],[79,28,38,26],[79,29,38,27,"isRunning"],[79,38,38,36],[79,39,38,37],[79,40,38,38],[79,42,38,40],[80,10,39,8,"sensor"],[80,16,39,14],[80,17,39,15,"listenersNumber"],[80,32,39,30],[80,34,39,32],[81,10,40,8],[81,14,40,12,"sensor"],[81,20,40,18],[81,21,40,19,"listenersNumber"],[81,36,40,34],[81,41,40,39],[81,42,40,40],[81,44,40,42],[82,12,41,10,"sensor"],[82,18,41,16],[82,19,41,17,"unregister"],[82,29,41,27],[82,30,41,28],[82,31,41,29],[83,10,42,8],[84,8,43,6],[85,6,44,4],[86,4,45,2],[87,2,46,0],[88,0,46,1],[88,3]],"functionMap":{"names":["<global>","_defineProperty","_toPropertyKey","_toPrimitive","SensorContainer","constructor","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA;ACE,4OD;AEC,2GF;AGC,wTH;OIE;ECC;GDE;EEC;GFE;EGC;GHQ;EIC;GJW;EKC;GLU;CJC"},"hasCjsExports":false},"type":"js/module"}]}