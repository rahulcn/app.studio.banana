{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"WebSocketFactory\", {\n    enumerable: true,\n    get: function () {\n      return WebSocketFactory;\n    }\n  });\n  class WebSocketFactory {\n    static detectEnvironment() {\n      var _a;\n      if (typeof WebSocket !== 'undefined') {\n        return {\n          type: 'native',\n          constructor: WebSocket\n        };\n      }\n      if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\n        return {\n          type: 'native',\n          constructor: globalThis.WebSocket\n        };\n      }\n      if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\n        return {\n          type: 'native',\n          constructor: global.WebSocket\n        };\n      }\n      if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocketPair !== 'undefined' && typeof globalThis.WebSocket === 'undefined') {\n        return {\n          type: 'cloudflare',\n          error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\n          workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.'\n        };\n      }\n      if (typeof globalThis !== 'undefined' && globalThis.EdgeRuntime || typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge'))) {\n        return {\n          type: 'unsupported',\n          error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\n          workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.'\n        };\n      }\n      if (typeof process !== 'undefined') {\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\n        const processVersions = process['versions'];\n        if (processVersions && processVersions['node']) {\n          // Remove 'v' prefix if present and parse the major version\n          const versionString = processVersions['node'];\n          const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\n          // Node.js 22+ should have native WebSocket\n          if (nodeVersion >= 22) {\n            // Check if native WebSocket is available (should be in Node.js 22+)\n            if (typeof globalThis.WebSocket !== 'undefined') {\n              return {\n                type: 'native',\n                constructor: globalThis.WebSocket\n              };\n            }\n            // If not available, user needs to provide it\n            return {\n              type: 'unsupported',\n              error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\n              workaround: 'Provide a WebSocket implementation via the transport option.'\n            };\n          }\n          // Node.js < 22 doesn't have native WebSocket\n          return {\n            type: 'unsupported',\n            error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\n            workaround: 'For Node.js < 22, install \"ws\" package and provide it via the transport option:\\n' + 'import ws from \"ws\"\\n' + 'new RealtimeClient(url, { transport: ws })'\n          };\n        }\n      }\n      return {\n        type: 'unsupported',\n        error: 'Unknown JavaScript runtime without WebSocket support.',\n        workaround: \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\"\n      };\n    }\n    static getWebSocketConstructor() {\n      const env = this.detectEnvironment();\n      if (env.constructor) {\n        return env.constructor;\n      }\n      let errorMessage = env.error || 'WebSocket not supported in this environment.';\n      if (env.workaround) {\n        errorMessage += `\\n\\nSuggested solution: ${env.workaround}`;\n      }\n      throw new Error(errorMessage);\n    }\n    static createWebSocket(url, protocols) {\n      const WS = this.getWebSocketConstructor();\n      return new WS(url, protocols);\n    }\n    static isWebSocketSupported() {\n      try {\n        const env = this.detectEnvironment();\n        return env.type === 'native' || env.type === 'ws';\n      } catch (_a) {\n        return false;\n      }\n    }\n  }\n  var _default = WebSocketFactory;\n});","lineCount":116,"map":[[7,2,94,0,"Object"],[7,8,94,0],[7,9,94,0,"defineProperty"],[7,23,94,0],[7,24,94,0,"exports"],[7,31,94,0],[8,4,94,0,"enumerable"],[8,14,94,0],[9,4,94,0,"get"],[9,7,94,0],[9,18,94,0,"get"],[9,19,94,0],[10,6,94,0],[10,13,94,0,"_default"],[10,21,94,0],[11,4,94,0],[12,2,94,0],[13,2,1,0,"Object"],[13,8,1,0],[13,9,1,0,"defineProperty"],[13,23,1,0],[13,24,1,0,"exports"],[13,31,1,0],[14,4,1,0,"enumerable"],[14,14,1,0],[15,4,1,0,"get"],[15,7,1,0],[15,18,1,0,"get"],[15,19,1,0],[16,6,1,0],[16,13,1,0,"WebSocketFactory"],[16,29,1,0],[17,4,1,0],[18,2,1,0],[19,2,1,7],[19,8,1,13,"WebSocketFactory"],[19,24,1,29],[19,25,1,30],[20,4,2,4],[20,11,2,11,"detectEnvironment"],[20,28,2,28,"detectEnvironment"],[20,29,2,28],[20,31,2,31],[21,6,3,8],[21,10,3,12,"_a"],[21,12,3,14],[22,6,4,8],[22,10,4,12],[22,17,4,19,"WebSocket"],[22,26,4,28],[22,31,4,33],[22,42,4,44],[22,44,4,46],[23,8,5,12],[23,15,5,19],[24,10,5,21,"type"],[24,14,5,25],[24,16,5,27],[24,24,5,35],[25,10,5,37,"constructor"],[25,21,5,48],[25,23,5,50,"WebSocket"],[26,8,5,60],[26,9,5,61],[27,6,6,8],[28,6,7,8],[28,10,7,12],[28,17,7,19,"globalThis"],[28,27,7,29],[28,32,7,34],[28,43,7,45],[28,47,8,12],[28,54,8,19,"globalThis"],[28,64,8,29],[28,65,8,30,"WebSocket"],[28,74,8,39],[28,79,8,44],[28,90,8,55],[28,92,8,57],[29,8,9,12],[29,15,9,19],[30,10,9,21,"type"],[30,14,9,25],[30,16,9,27],[30,24,9,35],[31,10,9,37,"constructor"],[31,21,9,48],[31,23,9,50,"globalThis"],[31,33,9,60],[31,34,9,61,"WebSocket"],[32,8,9,71],[32,9,9,72],[33,6,10,8],[34,6,11,8],[34,10,11,12],[34,17,11,19,"global"],[34,23,11,25],[34,28,11,30],[34,39,11,41],[34,43,12,12],[34,50,12,19,"global"],[34,56,12,25],[34,57,12,26,"WebSocket"],[34,66,12,35],[34,71,12,40],[34,82,12,51],[34,84,12,53],[35,8,13,12],[35,15,13,19],[36,10,13,21,"type"],[36,14,13,25],[36,16,13,27],[36,24,13,35],[37,10,13,37,"constructor"],[37,21,13,48],[37,23,13,50,"global"],[37,29,13,56],[37,30,13,57,"WebSocket"],[38,8,13,67],[38,9,13,68],[39,6,14,8],[40,6,15,8],[40,10,15,12],[40,17,15,19,"globalThis"],[40,27,15,29],[40,32,15,34],[40,43,15,45],[40,47,16,12],[40,54,16,19,"globalThis"],[40,64,16,29],[40,65,16,30,"WebSocketPair"],[40,78,16,43],[40,83,16,48],[40,94,16,59],[40,98,17,12],[40,105,17,19,"globalThis"],[40,115,17,29],[40,116,17,30,"WebSocket"],[40,125,17,39],[40,130,17,44],[40,141,17,55],[40,143,17,57],[41,8,18,12],[41,15,18,19],[42,10,19,16,"type"],[42,14,19,20],[42,16,19,22],[42,28,19,34],[43,10,20,16,"error"],[43,15,20,21],[43,17,20,23],[43,106,20,112],[44,10,21,16,"workaround"],[44,20,21,26],[44,22,21,28],[45,8,22,12],[45,9,22,13],[46,6,23,8],[47,6,24,8],[47,10,24,13],[47,17,24,20,"globalThis"],[47,27,24,30],[47,32,24,35],[47,43,24,46],[47,47,24,50,"globalThis"],[47,57,24,60],[47,58,24,61,"EdgeRuntime"],[47,69,24,72],[47,73,25,13],[47,80,25,20,"navigator"],[47,89,25,29],[47,94,25,34],[47,105,25,45],[47,110,26,17],[47,111,26,18,"_a"],[47,113,26,20],[47,116,26,23,"navigator"],[47,125,26,32],[47,126,26,33,"userAgent"],[47,135,26,42],[47,141,26,48],[47,145,26,52],[47,149,26,56,"_a"],[47,151,26,58],[47,156,26,63],[47,161,26,68],[47,162,26,69],[47,165,26,72],[47,170,26,77],[47,171,26,78],[47,174,26,81,"_a"],[47,176,26,83],[47,177,26,84,"includes"],[47,185,26,92],[47,186,26,93],[47,199,26,106],[47,200,26,107],[47,201,26,109],[47,203,26,111],[48,8,27,12],[48,15,27,19],[49,10,28,16,"type"],[49,14,28,20],[49,16,28,22],[49,29,28,35],[50,10,29,16,"error"],[50,15,29,21],[50,17,29,23],[50,116,29,122],[51,10,30,16,"workaround"],[51,20,30,26],[51,22,30,28],[52,8,31,12],[52,9,31,13],[53,6,32,8],[54,6,33,8],[54,10,33,12],[54,17,33,19,"process"],[54,24,33,26],[54,29,33,31],[54,40,33,42],[54,42,33,44],[55,8,34,12],[56,8,35,12],[56,14,35,18,"processVersions"],[56,29,35,33],[56,32,35,36,"process"],[56,39,35,43],[56,40,35,44],[56,50,35,54],[56,51,35,55],[57,8,36,12],[57,12,36,16,"processVersions"],[57,27,36,31],[57,31,36,35,"processVersions"],[57,46,36,50],[57,47,36,51],[57,53,36,57],[57,54,36,58],[57,56,36,60],[58,10,37,16],[59,10,38,16],[59,16,38,22,"versionString"],[59,29,38,35],[59,32,38,38,"processVersions"],[59,47,38,53],[59,48,38,54],[59,54,38,60],[59,55,38,61],[60,10,39,16],[60,16,39,22,"nodeVersion"],[60,27,39,33],[60,30,39,36,"parseInt"],[60,38,39,44],[60,39,39,45,"versionString"],[60,52,39,58],[60,53,39,59,"replace"],[60,60,39,66],[60,61,39,67],[60,65,39,71],[60,67,39,73],[60,69,39,75],[60,70,39,76],[60,71,39,77,"split"],[60,76,39,82],[60,77,39,83],[60,80,39,86],[60,81,39,87],[60,82,39,88],[60,83,39,89],[60,84,39,90],[60,85,39,91],[61,10,40,16],[62,10,41,16],[62,14,41,20,"nodeVersion"],[62,25,41,31],[62,29,41,35],[62,31,41,37],[62,33,41,39],[63,12,42,20],[64,12,43,20],[64,16,43,24],[64,23,43,31,"globalThis"],[64,33,43,41],[64,34,43,42,"WebSocket"],[64,43,43,51],[64,48,43,56],[64,59,43,67],[64,61,43,69],[65,14,44,24],[65,21,44,31],[66,16,44,33,"type"],[66,20,44,37],[66,22,44,39],[66,30,44,47],[67,16,44,49,"constructor"],[67,27,44,60],[67,29,44,62,"globalThis"],[67,39,44,72],[67,40,44,73,"WebSocket"],[68,14,44,83],[68,15,44,84],[69,12,45,20],[70,12,46,20],[71,12,47,20],[71,19,47,27],[72,14,48,24,"type"],[72,18,48,28],[72,20,48,30],[72,33,48,43],[73,14,49,24,"error"],[73,19,49,29],[73,21,49,31],[73,32,49,42,"nodeVersion"],[73,43,49,53],[73,86,49,96],[74,14,50,24,"workaround"],[74,24,50,34],[74,26,50,36],[75,12,51,20],[75,13,51,21],[76,10,52,16],[77,10,53,16],[78,10,54,16],[78,17,54,23],[79,12,55,20,"type"],[79,16,55,24],[79,18,55,26],[79,31,55,39],[80,12,56,20,"error"],[80,17,56,25],[80,19,56,27],[80,30,56,38,"nodeVersion"],[80,41,56,49],[80,86,56,94],[81,12,57,20,"workaround"],[81,22,57,30],[81,24,57,32],[81,107,57,115],[81,110,58,24],[81,133,58,47],[81,136,59,24],[82,10,60,16],[82,11,60,17],[83,8,61,12],[84,6,62,8],[85,6,63,8],[85,13,63,15],[86,8,64,12,"type"],[86,12,64,16],[86,14,64,18],[86,27,64,31],[87,8,65,12,"error"],[87,13,65,17],[87,15,65,19],[87,70,65,74],[88,8,66,12,"workaround"],[88,18,66,22],[88,20,66,24],[89,6,67,8],[89,7,67,9],[90,4,68,4],[91,4,69,4],[91,11,69,11,"getWebSocketConstructor"],[91,34,69,34,"getWebSocketConstructor"],[91,35,69,34],[91,37,69,37],[92,6,70,8],[92,12,70,14,"env"],[92,15,70,17],[92,18,70,20],[92,22,70,24],[92,23,70,25,"detectEnvironment"],[92,40,70,42],[92,41,70,43],[92,42,70,44],[93,6,71,8],[93,10,71,12,"env"],[93,13,71,15],[93,14,71,16,"constructor"],[93,25,71,27],[93,27,71,29],[94,8,72,12],[94,15,72,19,"env"],[94,18,72,22],[94,19,72,23,"constructor"],[94,30,72,34],[95,6,73,8],[96,6,74,8],[96,10,74,12,"errorMessage"],[96,22,74,24],[96,25,74,27,"env"],[96,28,74,30],[96,29,74,31,"error"],[96,34,74,36],[96,38,74,40],[96,84,74,86],[97,6,75,8],[97,10,75,12,"env"],[97,13,75,15],[97,14,75,16,"workaround"],[97,24,75,26],[97,26,75,28],[98,8,76,12,"errorMessage"],[98,20,76,24],[98,24,76,28],[98,51,76,55,"env"],[98,54,76,58],[98,55,76,59,"workaround"],[98,65,76,69],[98,67,76,71],[99,6,77,8],[100,6,78,8],[100,12,78,14],[100,16,78,18,"Error"],[100,21,78,23],[100,22,78,24,"errorMessage"],[100,34,78,36],[100,35,78,37],[101,4,79,4],[102,4,80,4],[102,11,80,11,"createWebSocket"],[102,26,80,26,"createWebSocket"],[102,27,80,27,"url"],[102,30,80,30],[102,32,80,32,"protocols"],[102,41,80,41],[102,43,80,43],[103,6,81,8],[103,12,81,14,"WS"],[103,14,81,16],[103,17,81,19],[103,21,81,23],[103,22,81,24,"getWebSocketConstructor"],[103,45,81,47],[103,46,81,48],[103,47,81,49],[104,6,82,8],[104,13,82,15],[104,17,82,19,"WS"],[104,19,82,21],[104,20,82,22,"url"],[104,23,82,25],[104,25,82,27,"protocols"],[104,34,82,36],[104,35,82,37],[105,4,83,4],[106,4,84,4],[106,11,84,11,"isWebSocketSupported"],[106,31,84,31,"isWebSocketSupported"],[106,32,84,31],[106,34,84,34],[107,6,85,8],[107,10,85,12],[108,8,86,12],[108,14,86,18,"env"],[108,17,86,21],[108,20,86,24],[108,24,86,28],[108,25,86,29,"detectEnvironment"],[108,42,86,46],[108,43,86,47],[108,44,86,48],[109,8,87,12],[109,15,87,19,"env"],[109,18,87,22],[109,19,87,23,"type"],[109,23,87,27],[109,28,87,32],[109,36,87,40],[109,40,87,44,"env"],[109,43,87,47],[109,44,87,48,"type"],[109,48,87,52],[109,53,87,57],[109,57,87,61],[110,6,88,8],[110,7,88,9],[110,8,89,8],[110,15,89,15,"_a"],[110,17,89,17],[110,19,89,19],[111,8,90,12],[111,15,90,19],[111,20,90,24],[112,6,91,8],[113,4,92,4],[114,2,93,0],[115,2,94,0],[115,6,94,0,"_default"],[115,14,94,0],[115,17,94,15,"WebSocketFactory"],[115,33,94,31],[116,0,94,32],[116,3]],"functionMap":{"names":["<global>","WebSocketFactory","WebSocketFactory.detectEnvironment","WebSocketFactory.getWebSocketConstructor","WebSocketFactory.createWebSocket","WebSocketFactory.isWebSocketSupported"],"mappings":"AAA,OC;ICC;KDkE;IEC;KFU;IGC;KHG;IIC;KJQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}