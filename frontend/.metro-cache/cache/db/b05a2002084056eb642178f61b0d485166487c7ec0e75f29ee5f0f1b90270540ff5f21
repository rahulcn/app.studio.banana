{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../PlatformChecker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":51,"index":109}}],"key":"qXble9ybAlViAQKWCIOx+hfaZjE=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":110},"end":{"line":5,"column":66,"index":176}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}},{"name":"../shareables","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":177},"end":{"line":6,"column":46,"index":223}}],"key":"FdbDFSDZ4WXqE0/hGYXRyz7sZ44=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useHandler = useHandler;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _PlatformChecker = require(_dependencyMap[1], \"../PlatformChecker\");\n  var _utils = require(_dependencyMap[2], \"./utils\");\n  var _shareables = require(_dependencyMap[3], \"../shareables\");\n  /**\n   * Lets you find out whether the event handler dependencies have changed.\n   *\n   * @param handlers - An object of event handlers.\n   * @param dependencies - An optional array of dependencies.\n   * @returns An object containing a boolean indicating whether the dependencies have changed, and a boolean indicating whether the code is running on the web.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useHandler\n   */\n  // @ts-expect-error This overload is required by our API.\n\n  function useHandler(handlers, dependencies) {\n    const initRef = (0, _react.useRef)(null);\n    if (initRef.current === null) {\n      const context = (0, _shareables.makeShareable)({});\n      initRef.current = {\n        context,\n        savedDependencies: []\n      };\n    }\n    (0, _react.useEffect)(() => {\n      return () => {\n        initRef.current = null;\n      };\n    }, []);\n    const {\n      context,\n      savedDependencies\n    } = initRef.current;\n    dependencies = (0, _utils.buildDependencies)(dependencies, handlers);\n    const doDependenciesDiffer = !(0, _utils.areDependenciesEqual)(dependencies, savedDependencies);\n    initRef.current.savedDependencies = dependencies;\n    const useWeb = (0, _PlatformChecker.isWeb)() || (0, _PlatformChecker.isJest)();\n    return {\n      context,\n      doDependenciesDiffer,\n      useWeb\n    };\n  }\n});","lineCount":50,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,18,0,"exports"],[7,9,18,0],[7,10,18,0,"useHandler"],[7,20,18,0],[7,23,18,0,"useHandler"],[7,33,18,0],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,4,0],[9,6,4,0,"_PlatformChecker"],[9,22,4,0],[9,25,4,0,"require"],[9,32,4,0],[9,33,4,0,"_dependencyMap"],[9,47,4,0],[10,2,5,0],[10,6,5,0,"_utils"],[10,12,5,0],[10,15,5,0,"require"],[10,22,5,0],[10,23,5,0,"_dependencyMap"],[10,37,5,0],[11,2,6,0],[11,6,6,0,"_shareables"],[11,17,6,0],[11,20,6,0,"require"],[11,27,6,0],[11,28,6,0,"_dependencyMap"],[11,42,6,0],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,2,16,0],[22,2,18,7],[22,11,18,16,"useHandler"],[22,21,18,26,"useHandler"],[22,22,18,27,"handlers"],[22,30,18,35],[22,32,18,37,"dependencies"],[22,44,18,49],[22,46,18,51],[23,4,19,2],[23,10,19,8,"initRef"],[23,17,19,15],[23,20,19,18],[23,24,19,18,"useRef"],[23,30,19,24],[23,31,19,24,"useRef"],[23,37,19,24],[23,39,19,25],[23,43,19,29],[23,44,19,30],[24,4,20,2],[24,8,20,6,"initRef"],[24,15,20,13],[24,16,20,14,"current"],[24,23,20,21],[24,28,20,26],[24,32,20,30],[24,34,20,32],[25,6,21,4],[25,12,21,10,"context"],[25,19,21,17],[25,22,21,20],[25,26,21,20,"makeShareable"],[25,37,21,33],[25,38,21,33,"makeShareable"],[25,51,21,33],[25,53,21,34],[25,54,21,35],[25,55,21,36],[25,56,21,37],[26,6,22,4,"initRef"],[26,13,22,11],[26,14,22,12,"current"],[26,21,22,19],[26,24,22,22],[27,8,23,6,"context"],[27,15,23,13],[28,8,24,6,"savedDependencies"],[28,25,24,23],[28,27,24,25],[29,6,25,4],[29,7,25,5],[30,4,26,2],[31,4,27,2],[31,8,27,2,"useEffect"],[31,14,27,11],[31,15,27,11,"useEffect"],[31,24,27,11],[31,26,27,12],[31,32,27,18],[32,6,28,4],[32,13,28,11],[32,19,28,17],[33,8,29,6,"initRef"],[33,15,29,13],[33,16,29,14,"current"],[33,23,29,21],[33,26,29,24],[33,30,29,28],[34,6,30,4],[34,7,30,5],[35,4,31,2],[35,5,31,3],[35,7,31,5],[35,9,31,7],[35,10,31,8],[36,4,32,2],[36,10,32,8],[37,6,33,4,"context"],[37,13,33,11],[38,6,34,4,"savedDependencies"],[39,4,35,2],[39,5,35,3],[39,8,35,6,"initRef"],[39,15,35,13],[39,16,35,14,"current"],[39,23,35,21],[40,4,36,2,"dependencies"],[40,16,36,14],[40,19,36,17],[40,23,36,17,"buildDependencies"],[40,29,36,34],[40,30,36,34,"buildDependencies"],[40,47,36,34],[40,49,36,35,"dependencies"],[40,61,36,47],[40,63,36,49,"handlers"],[40,71,36,57],[40,72,36,58],[41,4,37,2],[41,10,37,8,"doDependenciesDiffer"],[41,30,37,28],[41,33,37,31],[41,34,37,32],[41,38,37,32,"areDependenciesEqual"],[41,44,37,52],[41,45,37,52,"areDependenciesEqual"],[41,65,37,52],[41,67,37,53,"dependencies"],[41,79,37,65],[41,81,37,67,"savedDependencies"],[41,98,37,84],[41,99,37,85],[42,4,38,2,"initRef"],[42,11,38,9],[42,12,38,10,"current"],[42,19,38,17],[42,20,38,18,"savedDependencies"],[42,37,38,35],[42,40,38,38,"dependencies"],[42,52,38,50],[43,4,39,2],[43,10,39,8,"useWeb"],[43,16,39,14],[43,19,39,17],[43,23,39,17,"isWeb"],[43,39,39,22],[43,40,39,22,"isWeb"],[43,45,39,22],[43,47,39,23],[43,48,39,24],[43,52,39,28],[43,56,39,28,"isJest"],[43,72,39,34],[43,73,39,34,"isJest"],[43,79,39,34],[43,81,39,35],[43,82,39,36],[44,4,40,2],[44,11,40,9],[45,6,41,4,"context"],[45,13,41,11],[46,6,42,4,"doDependenciesDiffer"],[46,26,42,24],[47,6,43,4,"useWeb"],[48,4,44,2],[48,5,44,3],[49,2,45,0],[50,0,45,1],[50,3]],"functionMap":{"names":["<global>","useHandler","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCiB;YCS;WCC;KDE;GDC;CDc"},"hasCjsExports":false},"type":"js/module"}]}